# 수식 렌더링 오류 분석 및 수정 보고서

## 1. 문제 현상
`_posts/2026-01-05-MILo.md` 포스트에서 수식이 텍스트 형태로 그대로 노출되거나, MathJax에 의해 정상적으로 렌더링되지 않는 문제가 발생했습니다.

## 2. 원인 분석
분석 결과, 다음과 같은 세 가지 주요 원인이 복합적으로 작용했습니다.

### A. 수식 구분자(Delimiter) 호환성 문제
기존 포스트에서는 LaTeX 표준 방식인 `\( ... \)` (인라인)와 `\[ ... \]` (블록) 구분자를 사용했습니다. 하지만 현재 사용 중인 Jekyll Chirpy 테마와 Kramdown 마크다운 프로세서 환경에서는 다음과 같은 이유로 문제가 발생할 수 있습니다.
- **테마 설정**: `assets/js/data/mathjax.js` 설정에는 `\( ... \)`가 포함되어 있으나, 실제 렌더링 시 마크다운 프로세서가 백슬래시(`\`)를 이스케이프 문자로 먼저 처리해버려 MathJax가 수식을 인식하지 못하는 경우가 많습니다.
- **관습적 표준**: Chirpy 테마의 다른 포스트들은 `$ ... $`와 `$$ ... $$` 방식을 사용하고 있으며, 이 방식이 현재 환경에서 가장 안정적으로 동작합니다.

### B. 마크다운 프로세서(Kramdown)의 블록 인식 오류
마크다운에서 `$$ ... $$`를 사용하여 블록 수식을 작성할 때, 수식 앞뒤에 **빈 줄(Empty Line)**이 없으면 Kramdown이 이를 독립된 수식 블록이 아닌 일반 텍스트 단락의 일부로 오인하여 수식 처리를 건너뛰는 경우가 발생합니다.

### C. 특수 문자 간섭
수식 내부에 포함된 언더바(`_`)나 중괄호(`{}`) 등이 마크다운의 이탤릭체나 기타 문법으로 먼저 해석되어 수식 구조가 깨지는 현상이 발생했습니다.

## 3. 수정 사항
문제를 해결하기 위해 다음과 같은 작업을 수행했습니다.

1.  **구분자 변경**: 모든 인라인 수식 구분자를 `\( ... \)`에서 `$ ... $`로 변경했습니다.
2.  **블록 수식 수정**: 모든 블록 수식 구분자를 `\[ ... \]`에서 `$$ ... $$`로 변경했습니다.
3.  **공백 라인 추가**: 모든 `$$ ... $$` 블록 수식의 앞뒤에 빈 줄을 추가하여 마크다운 프로세서가 수식 블록을 명확히 인식하도록 했습니다.
4.  **문법 교정**: 수식 내부의 텍스트와 기호가 겹치지 않도록 간격을 조정했습니다.

## 4. 향후 권장 사항
앞으로 수식을 작성하실 때는 아래 형식을 권장합니다.

- **인라인 수식**: `$E = mc^2$`
- **블록 수식**:
  ```markdown
  (빈 줄)
  $$
  \mathbf{v}_n = \frac{f_{k,i}\mathbf{p}_{k',j} - f_{k',j}\mathbf{p}_{k,i}}{f_{k,i} - f_{k',j}}
  $$
  (빈 줄)
  ```
